p8105_hw3_ml5222
================
Miriam Lachs
2024-10-09

Load packages

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

## Problem 1

Load data

clean the data

``` r
ny_noaa=
  ny_noaa %>% 
  mutate(
    day=day(date),
    month=month(date),
    year=year(date),
    prcp=prcp/10,
    tmax=as.numeric(tmax)/10,
    tmin=as.numeric(tmin)/10)
```

``` r
ny_noaa %>% 
  ggplot(aes(x=snow))+geom_boxplot()
```

    ## Warning: Removed 381221 rows containing non-finite outside the scale range
    ## (`stat_boxplot()`).

![](p8105_hw3_ml5222_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

``` r
ny_noaa %>% 
  summarise(min_snow=min(snow,na.rm =TRUE))
```

    ## # A tibble: 1 × 1
    ##   min_snow
    ##      <int>
    ## 1      -13

## Problem 2

Import and clean the data

``` r
NHANES_dem=
  read_csv('nhanes_covar.csv',skip=4) %>% 
  janitor::clean_names()
```

    ## Rows: 250 Columns: 5
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (5): SEQN, sex, age, BMI, education
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
NHANES_acc=read_csv('nhanes_accel.csv') %>% 
  janitor::clean_names()
```

    ## Rows: 250 Columns: 1441
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (1441): SEQN, min1, min2, min3, min4, min5, min6, min7, min8, min9, min1...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
NHANES_full=
  NHANES_dem %>% 
  left_join(NHANES_acc,'seqn') %>% 
  filter(age>21) %>% 
  drop_na(,c(sex,age,bmi,education)) %>% 
  mutate(
    sex=as.factor(ifelse(sex==1,'male','female')),
    education=as.factor(case_match(education, 1~'Less than high school',2~'High school equivalent',3~'More than high school'))
         )
```
