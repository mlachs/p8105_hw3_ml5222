---
title: "p8105_hw3_ml5222"
author: "Miriam Lachs"
date: "2024-10-09"
output: github_document
---

Load packages
```{r,echo=FALSE}
library(tidyverse)
```


## Problem 1 

Load data 
```{r setup, include=FALSE}
library(p8105.datasets)
data("ny_noaa")

```

clean the data
```{r}
ny_noaa=
  ny_noaa %>% 
  mutate(
    day=day(date),
    month=month(date),
    year=year(date),
    prcp=prcp/10,
    tmax=as.numeric(tmax)/10,
    tmin=as.numeric(tmin)/10)
```

```{r}
ny_noaa %>% 
  ggplot(aes(x=snow))+geom_boxplot()

ny_noaa %>% 
  summarise(min_snow=min(snow,na.rm =TRUE))
```

## Problem 2 


Import, clean and join the data 
```{r}
NHANES_dem=
  read_csv('nhanes_covar.csv',skip=4) %>% 
  janitor::clean_names()
NHANES_acc=read_csv('nhanes_accel.csv') %>% 
  janitor::clean_names()

NHANES_full=
  NHANES_dem %>% 
  left_join(NHANES_acc,'seqn') %>% 
  filter(age>21) %>% 
  drop_na(,c(sex,age,bmi,education)) %>% 
  mutate(
    sex=as.factor(ifelse(sex==1,'male','female')),
    education=as.factor(case_match(education, 1~'Less than high school',2~'High school equivalent',3~'More than high school'))
         )

```

Produce a reader-friendly tables for count information 
```{r}
NHANES_full %>% 
  select(sex,education,age) %>% 
  group_by(sex,education) %>% 
  count() %>% 
  pivot_wider(names_from = sex,values_from = n)
```

Plot age distributions for men and women in each education category
```{r}

NHANES_full %>% 
  ggplot(aes(x=age,fill = sex))+geom_histogram()+facet_grid(sex~education)
```

Based on these distributions, there doesn't seem to be much difference in the distributions between gender. For participants who have more then high school level education, participation is higher for younger participants. While 
there seems to be more uniform distribution across the other education levels with slightly more older participants. 

Looking at total activity 
```{r}

```

